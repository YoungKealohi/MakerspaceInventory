extends layout

block content
  .logout-button-container
    a.button-logout(href="/") Log out

  h1= worker.FirstName + ' ' + worker.LastName + ' - Availability Schedule'
  
  p 
    a.button-nav(href=`/workers/`) Back to Workers

  h2 Add New Availability
  form(method="post", action=`/worker-availability/${worker.WorkerID}/add`)
    div
      label(for="DayOfWeek") Day:
      select#DayOfWeek(name="DayOfWeek", required)
        option(value="") -- Select Day --
        option(value="2") Monday
        option(value="3") Tuesday
        option(value="4") Wednesday
        option(value="5") Thursday
        option(value="6") Friday
    div
      label(for="StartTime") Start Time:
      input#StartTime(type="time", name="StartTime", required)
    div
      label(for="EndTime") End Time:
      input#EndTime(type="time", name="EndTime", required)
    div
      button(type="submit") Add Availability

  h2 Current Availability
  if availabilities.length === 0
    p This worker has no availability scheduled yet.
  else
    table(border="1" cellpadding="6" cellspacing="0")
      thead
        tr
          th Day
          th Time Range
          th Actions
      tbody
        each avail in availabilities
          tr
            - var dayNames = {2: 'Monday', 3: 'Tuesday', 4: 'Wednesday', 5: 'Thursday', 6: 'Friday'}
            td= dayNames[avail.DayOfWeek] || avail.DayOfWeek
            td= avail.StartTime.substring(0, 5) + ' - ' + avail.EndTime.substring(0, 5)
            td.form
              form(method="post", action=`/worker-availability/delete/${avail.WorkerAvailabilityID}`, onsubmit="return confirm('Remove this availability?');")
                button.delete(type="submit") Remove
